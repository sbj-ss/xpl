<?xml version="1.0" encoding="utf-8"?>
<!--
  XPL interpreter high-level test suite
  :append command
-->
<Root xmlns:xpl="http://xpl-dev.org/xpl" xmlns:ns-a="http://a.example.com">
  <OwnContent>
    <Before>
      <Content/>
      <Marker/>
    </Before>
    <After>
      <Marker/>
      <Content/>
    </After>
    <First>
      <Container>
        <Content/>
        <OldContent/>
        <OldContent/>
      </Container>
    </First>
    <FirstToEmpty>
      <Container>
        <Content/>
      </Container>
    </FirstToEmpty>
    <Last>
      <Container>
        <OldContent/>
        <OldContent/>
        <Content/>
      </Container>
    </Last>
    <LastByAlias>
      <Container>
        <OldContent/>
        <OldContent/>
        <Content/>
      </Container>
    </LastByAlias>
    <LastToEmpty>
      <Container>
        <ns-a:Content/>
      </Container>
    </LastToEmpty>
    <LastByDefault>
      <Container>
        <OldContent/>
        <OldContent/>
        <Content/>
      </Container>
    </LastByDefault>
  </OwnContent>
  <SelectedContent>
    <Before>
      <Source>
        <Content ns-a:attr="attr-value">1</Content>
        <Content>text-content (2)</Content>
      </Source>
      <Content ns-a:attr="attr-value">1</Content>
      <Content>text-content (2)</Content>
      <Marker/>
    </Before>
    <After>
      <Source>
        <Content ns-a:attr="attr-value">1</Content>
        <Content>text-content (2)</Content>
      </Source>
      <Marker/>
      <Content ns-a:attr="attr-value">1</Content>
      <Content>text-content (2)</Content>
    </After>
    <First>
      <Source>
        <Content ns-a:attr="attr-value">1</Content>
        <Content>text-content (2)</Content>
      </Source>
      <Container>
        <Content ns-a:attr="attr-value">1</Content>
        <Content>text-content (2)</Content>
        <OldContent/>
        <OldContent/>
      </Container>
    </First>
    <Last>
      <Source>
        <Content ns-a:attr="attr-value">1</Content>
        <Content>text-content (2)</Content>
      </Source>
      <Container>
        <OldContent/>
        <OldContent/>
        <Content ns-a:attr="attr-value">1</Content>
        <Content>text-content (2)</Content>
      </Container>
    </Last>
    <LastMultiple>
      <Source>
        <Content ns-a:attr="attr-value">1</Content>
        <Content>text-content (2)</Content>
      </Source>
      <Container>
        <OldContent/>
        <OldContent/>
        <Content ns-a:attr="attr-value">1</Content>
        <Content>text-content (2)</Content>
      </Container>
      <Container>
        <OldContent/>
        <OldContent/>
        <Content ns-a:attr="attr-value">1</Content>
        <Content>text-content (2)</Content>
      </Container>
    </LastMultiple>
  </SelectedContent>
  <NonElements>
    <LastAttributeToEmpty>
      <Source attr-a="attr-a value"/>
      <Container>attr-a value</Container>
    </LastAttributeToEmpty>
    <LastToTextByDefault>
      <Destination>old-content</Destination>
    </LastToTextByDefault>
    <AfterText>
      <Destination>old-contentnew-content</Destination>
    </AfterText>
  </NonElements>
  <Errors>
    <MissingDestination>
      <error src="append">xpl:append: parameter 'destination' must be specified (file "/home/ss/polaris/cmdline/../command-tests/Append.xpl", line 159)</error>
    </MissingDestination>
    <InvalidPosition>
      <error src="append">xpl:append: parameter 'position': 'upside-down': not in the allowed list (file "/home/ss/polaris/cmdline/../command-tests/Append.xpl", line 163)</error>
    </InvalidPosition>
    <InvalidSelectXPath>
      <error src="append">xpl:append: parameter 'select': invalid XPath expression '..Wrong' (file "/home/ss/polaris/cmdline/../command-tests/Append.xpl", line 167)</error>
    </InvalidSelectXPath>
    <InvalidSourceXPath>
      <error src="append">xpl:append: parameter 'source': invalid XPath expression '..Wrong' (file "/home/ss/polaris/cmdline/../command-tests/Append.xpl", line 171)</error>
    </InvalidSourceXPath>
    <InvalidDestinationType>
      <error src="append">xpl:append: parameter 'select': XPath query 'count(../Whatever)' evaluated to non-nodeset type (file "/home/ss/polaris/cmdline/../command-tests/Append.xpl", line 175)</error>
    </InvalidDestinationType>
    <InvalidSourceType>
      <error src="append">xpl:append: parameter 'source': XPath query 'count(../Whatever)' evaluated to non-nodeset type (file "/home/ss/polaris/cmdline/../command-tests/Append.xpl", line 179)</error>
    </InvalidSourceType>
  </Errors>
</Root>
